parcelRequire=function(e,r,n,t){var i="function"==typeof parcelRequire&&parcelRequire,o="function"==typeof require&&require;function u(n,t){if(!r[n]){if(!e[n]){var f="function"==typeof parcelRequire&&parcelRequire;if(!t&&f)return f(n,!0);if(i)return i(n,!0);if(o&&"string"==typeof n)return o(n);var c=new Error("Cannot find module '"+n+"'");throw c.code="MODULE_NOT_FOUND",c}p.resolve=function(r){return e[n][1][r]||r},p.cache={};var l=r[n]=new u.Module(n);e[n][0].call(l.exports,p,l,l.exports,this)}return r[n].exports;function p(e){return u(p.resolve(e))}}u.isParcelRequire=!0,u.Module=function(e){this.id=e,this.bundle=u,this.exports={}},u.modules=e,u.cache=r,u.parent=i,u.register=function(r,n){e[r]=[function(e,r){r.exports=n},{}]};for(var f=0;f<n.length;f++)u(n[f]);if(n.length){var c=u(n[n.length-1]);"object"==typeof exports&&"undefined"!=typeof module?module.exports=c:"function"==typeof define&&define.amd?define(function(){return c}):t&&(this[t]=c)}return u}({"pJnK":[function(require,module,exports) {
"use strict";function t(t){return s(t)||e(t)||i()}function i(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function e(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}function s(t){if(Array.isArray(t)){for(var i=0,e=new Array(t.length);i<t.length;i++)e[i]=t[i];return e}}function n(t,i){if(!(t instanceof i))throw new TypeError("Cannot call a class as a function")}function a(t,i){for(var e=0;e<i.length;e++){var s=i[e];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(t,s.key,s)}}function h(t,i,e){return i&&a(t.prototype,i),e&&a(t,e),t}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var o=function(){function i(){n(this,i),this.GRID_SIZE=20,this.FPS=10,this.INTERVAL=1e3/this.FPS,this.AREA_WIDTH,this.AREA_HEIGHT,this.area,this.ctx,this.now,this.delta,this.area,this.ctx,this.now,this.delta,this.then=Date.now(),this.crashed=!1,this.started=!1,this.score=0,this.snake={x:100,y:100,dx:1,dy:0,tail:[],startLength:4},this.food={x:160,y:100},this.loop=this.loop.bind(this)}return h(i,[{key:"init",value:function(){this.area=document.getElementById("area"),this.ctx=this.area.getContext("2d"),this.AREA_WIDTH=this.calcAreaSize,this.AREA_HEIGHT=this.calcAreaSize,this.area.width=this.AREA_WIDTH,this.area.height=this.AREA_HEIGHT,this.fillArea()}},{key:"start",value:function(){this.started=!0,this.crashed=!1,this.initialValue(),this.changeDirectionListener(),this.createSnake(4),this.loop()}},{key:"pause",value:function(){this.started=!1}},{key:"resume",value:function(){this.started=!0}},{key:"loop",value:function(){this.crashed||(requestAnimationFrame(this.loop),this.started&&(this.now=Date.now(),this.delta=this.now-this.then,this.delta>this.INTERVAL&&(this.then=this.now-this.delta%this.INTERVAL,this.fillArea(),this.moveSnake(),this.drawSnake(),this.drawFood(),this.checkSnakeLocation())))}},{key:"moveSnake",value:function(){this.snake.x+=this.GRID_SIZE*this.snake.dx,this.snake.y+=this.GRID_SIZE*this.snake.dy,this.snake.tail.unshift({x:this.snake.x,y:this.snake.y}),this.snake.tail.length>this.snake.startLength&&this.snake.tail.pop()}},{key:"drawSnake",value:function(){var t=this;this.snake.tail.forEach(function(i){t.ctx.lineWidth=3,t.ctx.fillStyle="green",t.ctx.strokeStyle="#39ff14",t.ctx.fillRect(i.x,i.y,t.GRID_SIZE,t.GRID_SIZE),t.ctx.strokeRect(i.x,i.y,t.GRID_SIZE,t.GRID_SIZE)})}},{key:"drawFood",value:function(){this.ctx.lineWidth=1,this.ctx.fillStyle="red",this.ctx.strokeStyle="darkred",this.ctx.fillRect(this.food.x,this.food.y,this.GRID_SIZE,this.GRID_SIZE),this.ctx.strokeRect(this.food.x,this.food.y,this.GRID_SIZE,this.GRID_SIZE)}},{key:"createSnake",value:function(i){var e=this;t(Array(i).keys()).forEach(function(t,i){var s,n,a=[e.snake.x-e.GRID_SIZE*i,e.snake.y,e.GRID_SIZE,e.GRID_SIZE];e.ctx.lineWidth=3,e.ctx.fillStyle="green",e.ctx.strokeStyle="#39ff14",(s=e.ctx).fillRect.apply(s,a),(n=e.ctx).strokeRect.apply(n,a),e.snake.tail.push({x:e.snake.x-e.GRID_SIZE*i,y:e.snake.y})})}},{key:"checkSnakeLocation",value:function(){var t=this;0!==this.snake.x&&this.snake.x!==this.AREA_WIDTH-this.GRID_SIZE&&0!==this.snake.y&&this.snake.y!==this.AREA_HEIGHT-this.GRID_SIZE||(this.crashed=!0),this.snake.tail.slice(1,this.snake.tail.length).forEach(function(i){t.snake.tail[0].x===i.x&&t.snake.tail[0].y===i.y&&(t.crashed=!0)}),this.snake.x===this.food.x&&this.snake.y===this.food.y&&(this.snake.tail.push({x:this.food.x,y:this.food.y}),this.food.x=this.newFoodPosition("x"),this.food.y=this.newFoodPosition("y"))}},{key:"newFoodPosition",value:function(t){for(var i=this.snake.tail.map(function(i){return i[t]}),e=this.randomPosition(this.GRID_SIZE,this.AREA_WIDTH-2*this.GRID_SIZE);i.includes(e);)e=this.randomPosition(this.GRID_SIZE,this.AREA_WIDTH-2*this.GRID_SIZE);return e}},{key:"changeDirectionListener",value:function(){var t=this;window.addEventListener("keydown",function(i){var e=i.keyCode;37===e&&1!==t.snake.dx&&(t.snake.dx=-1,t.snake.dy=0),38===e&&1!==t.snake.dy&&(t.snake.dx=0,t.snake.dy=-1),39===e&&-1!==t.snake.dx&&(t.snake.dx=1,t.snake.dy=0),40===e&&-1!==t.snake.dy&&(t.snake.dx=0,t.snake.dy=1)})}},{key:"initialValue",value:function(){this.snake={x:100,y:100,dx:1,dy:0,tail:[],startLength:4},this.food={x:160,y:100}}},{key:"fillArea",value:function(){this.ctx.lineWidth=10,this.ctx.strokeStyle="#4666FF",this.ctx.fillStyle="#000",this.ctx.fillRect(0,0,this.AREA_WIDTH,this.AREA_HEIGHT),this.ctx.strokeRect(0,0,this.AREA_WIDTH,this.AREA_HEIGHT)}},{key:"randomPosition",value:function(t,i){return Math.round((Math.random()*(i-t)+t)/this.GRID_SIZE)*this.GRID_SIZE}},{key:"calcAreaSize",get:function(){return Math.floor(window.innerHeight/this.GRID_SIZE)*this.GRID_SIZE}}]),i}();exports.default=o;
},{}],"8tG/":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=t(require("./Snake"));function t(e){return e&&e.__esModule?e:{default:e}}var n=function(){var t=document.getElementById("startButton"),n=document.getElementById("pauseButton"),u=document.getElementById("resumeButton"),d=new e.default;d.init(),t.addEventListener("click",function(){d.start()}),n.addEventListener("click",function(){d.pause()}),u.addEventListener("click",function(){d.resume()})},u=n;exports.default=u;
},{"./Snake":"pJnK"}],"Focm":[function(require,module,exports) {
"use strict";var e=t(require("./src/init"));function t(e){return e&&e.__esModule?e:{default:e}}window.addEventListener("DOMContentLoaded",e.default);
},{"./src/init":"8tG/"}]},{},["Focm"], null)
//# sourceMappingURL=https://igorbezsmertnyi.github.io/snake-sample/snake-sample.841363f4.map